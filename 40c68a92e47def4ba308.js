(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{1793:function(t,e,n){"use strict";var r=n(617);n.n(r).a},1794:function(t,e,n){(t.exports=n(5)(!1)).push([t.i,".new_bangumi_play .nya-loading{margin:6.25rem auto 1.25rem}.new_bangumi_play .num-list{margin-top:1.25rem}.new_bangumi_play .num-list .nya-btn{margin:.1875rem;width:calc(11.11111% - .375rem);text-align:center;box-sizing:border-box}@media (max-width:980px){.new_bangumi_play .num-list .nya-btn{width:calc(12.5% - .375rem)}}@media (max-width:880px){.new_bangumi_play .num-list .nya-btn{width:calc(14.28571% - .375rem)}}@media (max-width:780px){.new_bangumi_play .num-list .nya-btn{width:calc(16.66667% - .375rem)}}@media (max-width:680px){.new_bangumi_play .num-list .nya-btn{width:calc(20% - .375rem)}}@media (max-width:580px){.new_bangumi_play .num-list .nya-btn{width:calc(25% - .375rem)}}@media (max-width:400px){.new_bangumi_play .num-list .nya-btn{width:calc(33.33333% - .375rem)}}.new_bangumi_play iframe{width:100%;min-height:37.5rem}@media (max-width:950px){.new_bangumi_play iframe{min-height:31.25rem}}@media (max-width:750px){.new_bangumi_play iframe{min-height:25rem}}@media (max-width:650px){.new_bangumi_play iframe{min-height:18.75rem}}@media (max-width:400px){.new_bangumi_play iframe{min-height:15.625rem}}",""])},1835:function(t,e,n){"use strict";n.r(e);var r=n(1789),l=n.n(r),c=(n(1791),{name:"NewBangumiPlay",head:function(){return{title:"追新番"}},components:{"d-player":n(1790)},data:function(){return{current:0,data:null,episode:1}},computed:{type:function(){return this.data.list[this.current].type},src:function(){return this.data.list[this.current].src}},watch:{data:function(){this.episode=this.data.list[0].num}},mounted:function(){var t=this;this.$store.state.isMobile.any?this.$nextTick((function(){t.$swal({type:"error",title:"声明",text:"<b>强烈推荐使用电脑观看</b>，由于播放器接口限制，移动端观看可能会出现广告，影响观看体验"})})):this.getData()},methods:{switchNum:function(t,i){var e=this;this.episode=t,this.current=i;var n={url:this.data.list[i].src};"m3u8"===i.type&&(n=Object.assign(n,{type:"customHls",customType:{customHls:function(video){var t=new l.a;t.loadSource(video.src),t.attachMedia(video)}}})),this.$nextTick((function(){if(!e.$refs.player)return!1;e.$refs.player.dp.switchVideo(n)}))},getData:function(){var t=this,e=this.$route.query.id;e?this.$axios.post("/new_bangumi/"+e).then((function(e){t.data=e.data.data})).catch((function(e){t.$swal({type:"error",title:"获取番剧数据失败",text:"ERROR: ".concat(e)})})):this.$swal({type:"error",title:"获取番剧数据失败",text:"ERROR: ID异常"})},playerOptions:function(){return{video:"m3u8"===this.data.list[this.current].type?{url:this.data.list[this.current].src,type:"customHls",customType:{customHls:function(video){var t=new l.a;t.loadSource(video.src),t.attachMedia(video)}}}:{url:this.data.list[this.current].src},autoplay:!0,screenshot:!1,hotkey:!0,preload:"auto"}}}}),m=(n(1793),n(3)),component=Object(m.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"new_bangumi_play"},[t.data?n("div",{staticClass:"nya-subtitle"},[t._v("\n        正在播放："+t._s(t.data.title)+" 第 "+t._s(t.episode)+" 集\n    ")]):t._e(),t._v(" "),t.data?n("div",[["m3u8","flv"].includes(t.type)?n("d-player",{ref:"player",attrs:{options:t.playerOptions()}}):["iqiyi","vip","qzone"].includes(t.type)?n("iframe",{attrs:{src:"https://player.s1905.com/ipsign/player.php?id="+t.src+"&type="+t.type,frameborder:"0",border:"0",marginwidth:"0",marginheight:"0",scrolling:"no",allowfullscreen:"true"}}):n("iframe",{attrs:{src:"https://api.flvsp.com/?type="+t.type+"&vid="+t.src,frameborder:"0",border:"0",marginwidth:"0",marginheight:"0",scrolling:"no",allowfullscreen:"true"}}),t._v(" "),n("div",{staticClass:"num-list"},t._l(t.data.list,(function(e,i){return n("div",{key:i,staticClass:"nya-btn",class:{active:t.current===i},on:{click:function(n){return t.switchNum(e.num,i)}}},[t._v("\n                第"+t._s(e.num)+"集\n            ")])})),0)],1):n("nya-loading")],1)}),[],!1,null,null,null);e.default=component.exports},617:function(t,e,n){var content=n(1794);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(6).default)("6cb19532",content,!0,{sourceMap:!1})}}]);